"use strict";export function zzfx(...t){return ZZFX.play(...t)}export const ZZFX={volume:.3,sampleRate:44100,x:new(window.AudioContext||webkitAudioContext),play:function(t,...e){return this.playSamples(t,this.buildSamples(...e))},playSamples:function(t,...e){const a=this.x.createBuffer(e.length,e[0].length,this.sampleRate),n=this.x.createBufferSource();e.map((t,e)=>a.getChannelData(e).set(t)),n.buffer=a;let s=this.x.createBiquadFilter();return s.connect(this.x.destination),n.connect(s),s.frequency.value=t,n.start(),n},buildSamples:function(t=1,e=.05,a=220,n=0,s=0,i=.1,o=0,r=1,h=0,u=0,l=0,c=0,f=0,p=0,m=0,M=0,x=0,d=1,b=0,y=0){const S=2*Math.PI;let g,w,Z=this.sampleRate,v=t=>t>0?1:-1,B=h*=500*S/Z/Z,C=a*=(1+2*e*Math.random()-e)*S/Z,F=[],R=0,q=0,z=0,A=1,X=0,k=0,D=0;for(u*=500*S/Z**3,m*=S/Z,l*=S/Z,c*=Z,f=f*Z|0,w=(n=n*Z+9)+(b*=Z)+(s*=Z)+(i*=Z)+(x*=Z)|0;z<w;F[z++]=D)++k%(100*M|0)||(D=o?o>1?o>2?o>3?Math.sin((R%S)**3):Math.max(Math.min(Math.tan(R),1),-1):1-(2*R/S%2+2)%2:1-4*Math.abs(Math.round(R/S)-R/S):Math.sin(R),D=(f?1-y+y*Math.sin(S*z/f):1)*v(D)*Math.abs(D)**r*t*this.volume*(z<n?z/n:z<n+b?1-(z-n)/b*(1-d):z<n+b+s?d:z<w-x?(w-z-x)/i*d:0),D=x?D/2+(x>z?0:(z<w-x?1:(w-z)/x)*F[z-x|0]/2):D),R+=(g=(a+=h+=u)*Math.cos(m*q++))-g*p*(1-1e9*(Math.sin(z)+1)%2),A&&++A>c&&(a+=l,C+=l,A=0),!f||++X%f||(a=C,h=B,A=A||1);return F},getNote:function(t=0,e=440){return e*2**(t/12)}};
